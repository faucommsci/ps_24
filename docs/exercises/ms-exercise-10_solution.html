<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Unsupervised Machine Learning II – Kommunikationswissenschaftliches Projektseminar</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../img/logo_fau_red.svg" rel="icon" type="image/svg+xml">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="Unsupervised Machine Learning II – Kommunikationswissenschaftliches Projektseminar">
<meta property="og:description" content="Session 10 - Exercise">
<meta property="og:site_name" content="Kommunikationswissenschaftliches Projektseminar">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Unsupervised Machine Learning II</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../img/ps24-hex.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://www.kowi.rw.fau.de/lehre/master/projektseminar/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-globe"></i></a>
    <a href="https://github.com/faucommsci/ps_24" title="Course repository" class="quarto-navigation-tool px-1" aria-label="Course repository"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Hintergrundinformationen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.kowi.rw.fau.de/2024/02/21/projektseminar-sommersemester-2024-ki-nutzen-um-ki-folgen-zu-verstehen/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">zum Projektseminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.kowi.rw.fau.de/2024/03/18/methodenseminar-sose-2024-ki-gestuetzte-systematic-reviews-und-text-as-data-in-r/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">zum Methodenseminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">zum Teaching Team</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Kursunterlagen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ms-schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Methodenseminar</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Computing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing/computing-textbooks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Textbooks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing/computing-cheatsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Cheatsheets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing/computing-useful_links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Useful R sources</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a></li>
  <li><a href="#preparation" id="toc-preparation" class="nav-link" data-scroll-target="#preparation">Preparation</a>
  <ul>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages">Packages</a></li>
  <li><a href="#import-und-vorverarbeitung-der-daten" id="toc-import-und-vorverarbeitung-der-daten" class="nav-link" data-scroll-target="#import-und-vorverarbeitung-der-daten">Import und Vorverarbeitung der Daten</a></li>
  </ul></li>
  <li><a href="#praktische-anwendung" id="toc-praktische-anwendung" class="nav-link" data-scroll-target="#praktische-anwendung">🛠️ Praktische Anwendung</a>
  <ul>
  <li><a href="#exercise-1-visualisierung-der-themenprävalenz" id="toc-exercise-1-visualisierung-der-themenprävalenz" class="nav-link" data-scroll-target="#exercise-1-visualisierung-der-themenprävalenz">📋 Exercise 1: Visualisierung der Themenprävalenz</a>
  <ul class="collapse">
  <li><a href="#auswahl-des-passenden-models" id="toc-auswahl-des-passenden-models" class="nav-link" data-scroll-target="#auswahl-des-passenden-models">1.1. Auswahl des passenden Models</a></li>
  <li><a href="#identifikation-der-top-terms-für-jedes-thema" id="toc-identifikation-der-top-terms-für-jedes-thema" class="nav-link" data-scroll-target="#identifikation-der-top-terms-für-jedes-thema">1.2. Identifikation der Top-Terms für jedes Thema</a></li>
  <li><a href="#erstellung-der-prävalenz-tabelle-für-die-themen" id="toc-erstellung-der-prävalenz-tabelle-für-die-themen" class="nav-link" data-scroll-target="#erstellung-der-prävalenz-tabelle-für-die-themen">1.3 Erstellung der Prävalenz-Tabelle für die Themen</a></li>
  </ul></li>
  <li><a href="#exercise-2-einfluss-der-metadaten" id="toc-exercise-2-einfluss-der-metadaten" class="nav-link" data-scroll-target="#exercise-2-einfluss-der-metadaten">📋 Exercise 2: Einfluss der Metadaten</a>
  <ul class="collapse">
  <li><a href="#schätzung-der-meta-effekte" id="toc-schätzung-der-meta-effekte" class="nav-link" data-scroll-target="#schätzung-der-meta-effekte">2.1. Schätzung der Meta-Effekte</a></li>
  <li><a href="#untersuchung-der-effekte" id="toc-untersuchung-der-effekte" class="nav-link" data-scroll-target="#untersuchung-der-effekte">2.2. Untersuchung der Effekte</a></li>
  </ul></li>
  <li><a href="#exercise-3-einzelthema-im-fokus" id="toc-exercise-3-einzelthema-im-fokus" class="nav-link" data-scroll-target="#exercise-3-einzelthema-im-fokus">📋 Exercise 3: Einzelthema im Fokus</a>
  <ul class="collapse">
  <li><a href="#benennung-des-themas-k-20" id="toc-benennung-des-themas-k-20" class="nav-link" data-scroll-target="#benennung-des-themas-k-20">3.1. Benennung des Themas k = 20</a></li>
  <li><a href="#zusammenführung-mit-openalex-daten" id="toc-zusammenführung-mit-openalex-daten" class="nav-link" data-scroll-target="#zusammenführung-mit-openalex-daten">3.2. Zusammenführung mit OpenAlex-Daten</a></li>
  <li><a href="#verteilungsparameter-von-thema-20" id="toc-verteilungsparameter-von-thema-20" class="nav-link" data-scroll-target="#verteilungsparameter-von-thema-20">3.3 Verteilungsparameter von Thema 20</a></li>
  <li><a href="#top-dokumente-des-themas" id="toc-top-dokumente-des-themas" class="nav-link" data-scroll-target="#top-dokumente-des-themas">3.4. Top-Dokumente des Themas</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/faucommsci/ps_24/edit/main/exercises/ms-exercise-10_solution.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/faucommsci/ps_24/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Unsupervised Machine Learning II</h1>
<p class="subtitle lead">Session 10 - Exercise</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">16.07.2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://github.com/faucommsci/ps_24/blob/main/exercises/ms-exercise-10_solution.qmd"><img src="https://raw.githubusercontent.com/faucommsci/teaching_materials/main/images/badges/badge-quarto_document.svg" class="img-fluid" alt="Quarto Document"></a> Link to source file</p>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Fokus der Übung: stm-Topicmodeling mit R kennenlernen
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Typische Schritte der Auswertung eines <code>stm</code>-Topicmodels mit Hilfe von <code>tidytext</code> <span class="citation" data-cites="silge2016">(<a href="#ref-silge2016" role="doc-biblioref">Silge and Robinson 2016</a>)</span> reproduzieren</li>
<li>Verständnis für die Interpretation von Themenmodellen schärfen.</li>
<li>Einfluss von Metadaten untersuchen und interpretieren.</li>
</ul>
</div>
</div>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Todays’s data basis: <a href="https://openalex.org/">OpenAlex</a>
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>Via API bzw. openalexR <span class="citation" data-cites="aria2024">(<a href="#ref-aria2024" role="doc-biblioref">Aria et al. 2024</a>)</span> gesammelte “works” der Datenbank <a href="https://openalex.org/">OpenAlex</a> mit Bezug zu Literaturriews in den Sozialwissenschaften zwischen 2013 und 2023</p></li>
<li><p>Detaillierte Informationen und Ergebnisse zur Suchquery finden Sie <a href="https://openalex.org/works?page=1&amp;filter=display_name.search%3A%28literature%20OR%20systematic%29%20AND%20review,primary_topic.domain.id%3Adomains%2F2,publication_year%3A2014%20-%202024&amp;group_by=publication_year,open_access.is_oa,primary_topic.field.id">hier</a>.</p></li>
</ul>
</div>
</div>
</section>
<section id="preparation" class="level2">
<h2 class="anchored" data-anchor-id="preparation">Preparation</h2>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtige Information
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Bitte stellen Sie sicher, dass Sie das jeweilige R-Studio Projekt zur Übung geöffnet haben. Nur so funktionieren alle Dependencies korrekt.</li>
<li>Um den einwandfreien Ablauf der Übung zu gewährleisten, wird für die Aufgaben auf eine eigenständige Datenerhebung verzichtet und ein Übungsdatensatz zu verfügung gestelt.</li>
</ul>
</div>
</div>
<section id="packages" class="level3">
<h3 class="anchored" data-anchor-id="packages">Packages</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    here, qs, <span class="co"># file management</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    magrittr, janitor, <span class="co"># data wrangling</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    easystats, sjmisc, <span class="co"># data analysis</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    gt, gtExtras, <span class="co"># table visualization</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    ggpubr, ggwordcloud, <span class="co"># visualization</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># text analysis    </span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    tidytext, widyr, <span class="co"># based on tidytext</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    quanteda, <span class="co"># based on quanteda</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    quanteda.textmodels, quanteda.textplots, quanteda.textstats, </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    stm, <span class="co"># structural topic modeling</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    openalexR, pushoverr, tictoc, </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    tidyverse <span class="co"># load last to avoid masking issues</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="import-und-vorverarbeitung-der-daten" class="level3">
<h3 class="anchored" data-anchor-id="import-und-vorverarbeitung-der-daten">Import und Vorverarbeitung der Daten</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>review_works <span class="ot">&lt;-</span> qs<span class="sc">::</span><span class="fu">qread</span>(<span class="fu">here</span>(<span class="st">"data/session-07/openalex-review_works-2013_2023.qs"</span>))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create correct data</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>review_subsample <span class="ot">&lt;-</span> review_works <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create additional factor variables</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">publication_year_fct =</span> <span class="fu">as.factor</span>(publication_year), </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">type_fct =</span> <span class="fu">as.factor</span>(type)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Eingrenzung: Sprache und Typ</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(language <span class="sc">==</span> <span class="st">"en"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"article"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Datentranformation</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unnest</span>(topics, <span class="at">names_sep =</span> <span class="st">"_"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(topics_name <span class="sc">==</span> <span class="st">"field"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(topics_i <span class="sc">==</span> <span class="st">"1"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Eingrenzung: Forschungsfeldes</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    topics_display_name <span class="sc">==</span> <span class="st">"Social Sciences"</span><span class="sc">|</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    topics_display_name <span class="sc">==</span> <span class="st">"Psychology"</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">field =</span> <span class="fu">as.factor</span>(topics_display_name)</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Eingrenzung: Keine Einträge ohne Abstract</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ab))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create corpus</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>quanteda_corpus <span class="ot">&lt;-</span> review_subsample <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">corpus</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">docid_field =</span> <span class="st">"id"</span>, </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">text_field =</span> <span class="st">"ab"</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenize</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>quanteda_token <span class="ot">&lt;-</span> quanteda_corpus <span class="sc">%&gt;%</span> </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">tokens</span>(</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>, </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>, </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_url =</span> <span class="cn">TRUE</span>, </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">split_tags =</span> <span class="cn">FALSE</span> <span class="co"># keep hashtags and mentions</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">tokens_remove</span>(</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">pattern =</span> <span class="fu">stopwords</span>(<span class="st">"en"</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to Document-Feature-Matrix (DFM)</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>quanteda_dfm <span class="ot">&lt;-</span> quanteda_token <span class="sc">%&gt;%</span> </span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">dfm</span>()</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Pruning</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>quanteda_dfm_trim <span class="ot">&lt;-</span> quanteda_dfm <span class="sc">%&gt;%</span> </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_trim</span>( </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_docfreq =</span> <span class="dv">10</span><span class="sc">/</span><span class="fu">nrow</span>(review_subsample),</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_docfreq =</span> <span class="fl">0.99</span>, </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">docfreq_type =</span> <span class="st">"prop"</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert for stm topic modeling</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>quanteda_stm <span class="ot">&lt;-</span> quanteda_dfm_trim <span class="sc">%&gt;%</span> </span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>   <span class="fu">convert</span>(<span class="at">to =</span> <span class="st">"stm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="praktische-anwendung" class="level2">
<h2 class="anchored" data-anchor-id="praktische-anwendung">🛠️ Praktische Anwendung</h2>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Achtung, bitte lesen!
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Bevor Sie mit der Arbeit an den folgenden 📋 <strong>Exercises</strong> beginnen, stellen Sie bitte sicher, dass Sie alle Chunks des Abschnitts <a href="#preparation">Preparation</a> gerendert haben. Das können Sie tun, indem Sie den “<em>Run all chunks above</em>”-Knopf <img src="https://raw.githubusercontent.com/faucommsci/teaching_materials/main/images/buttons/rstudio-button-render_all_chunks_above.png" class="img-fluid">des nächsten Chunks benutzen.</li>
<li>Bei Fragen zum Code lohnt sich ein Blick in den <strong>Showcase</strong> (.qmd oder .html). Beim Showcase handelt es sich um eine kompakte Darstellung des in der Präsentation verwenden R-Codes. Sie können das Showcase also nutzen, um sich die Code-Bausteine anzusehen, die für die R-Outputs auf den Slides benutzt wurden.</li>
</ul>
</div>
</div>
<section id="exercise-1-visualisierung-der-themenprävalenz" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1-visualisierung-der-themenprävalenz">📋 Exercise 1: Visualisierung der Themenprävalenz</h3>
<section id="auswahl-des-passenden-models" class="level4">
<h4 class="anchored" data-anchor-id="auswahl-des-passenden-models">1.1. Auswahl des passenden Models</h4>
<ol type="1">
<li>Erstelen Sie einen neuen Datensatz <code>stm_mdl_k40</code>
<ul>
<li>basierend auf dem Datensatz <code>stm_serach</code>
<ol type="1">
<li>Verwenden Sie <code>filter(k == 40)</code>, um das Modell mit 40 Themen zu auszuwählen.</li>
<li>Verwenden Sie <code>pull(mdl) %&gt;% .[[1]]</code> um die Spalte und das Element zu extrahieren, die das Modell enthält.</li>
<li>Speichern Sie diese Umwandlung, indem Sie einen neuen Datensatz mit dem Namen <code>stm_mdl_k40</code> erstellen.</li>
</ol></li>
</ul></li>
<li>Überprüfen Sie die Transformation indem Sie <code>stm_mdl_k40</code> in die Konsole eingeben.</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull tpm with 40 topics</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>stm_mdl_k40 <span class="ot">&lt;-</span> stm_search <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(k <span class="sc">==</span> <span class="dv">40</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(mdl) <span class="sc">%&gt;%</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  .[[<span class="dv">1</span>]]</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Check</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>stm_mdl_k40</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>A topic model with 40 topics, 36650 documents and a 14322 word dictionary.</code></pre>
</div>
</div>
</section>
<section id="identifikation-der-top-terms-für-jedes-thema" class="level4">
<h4 class="anchored" data-anchor-id="identifikation-der-top-terms-für-jedes-thema">1.2. Identifikation der Top-Terms für jedes Thema</h4>
<ol type="1">
<li>Erstellen Sie einen neuen Datensatz <code>td_beta</code>
<ul>
<li>basierend auf dem Datensatz <code>stm_mdl_k40</code>,</li>
<li>Verwenden Sie <code>tidy(method = "frex")</code>, um die Beta-Matrix zu erstellen.</li>
</ul></li>
<li>Erstellen Sie einen neuen Datensatz <code>top_terms</code>
<ul>
<li>basierend auf dem Datenastz <code>td_beta</code>,
<ol type="1">
<li>Verwenden Sie <code>arrange(beta)</code>, um die Begriffe nach Beta zu sortieren.</li>
<li>Gruppieren Sie die Begriffe nach <code>topic</code> mit <code>group_by(topic)</code>.</li>
<li>Extrahieren Sie die 7 häufigsten Begriffe mit <code>top_n(7, beta)</code>.</li>
<li>Sortieren Sie die Begriffe absteigend mit <code>arrange(-beta)</code>.</li>
<li>Wählen Sie die Variablen <code>topic</code> und <code>term</code> mit <code>select(topic, term)</code> aus.</li>
<li>Extrahieren Sie die Top-Begriffe pro Thema mit <code>summarise(terms = list(term))</code>.</li>
<li>Transformieren Sie die extrahierten Begriffe pro Thema mit <code>map(terms, paste, collapse = ", ")</code> zu einem String.</li>
<li>“Entpacken” Sie die Begriffe aus der Liste (unnesten) mit <code>unnest(cols = c(terms))</code>.</li>
</ol></li>
</ul></li>
<li>Überprüfen Sie die Transformation indem Sie <code>top_terms</code> in die Konsole eingeben.</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create tidy beta matrix</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>td_beta <span class="ot">&lt;-</span> <span class="fu">tidy</span>(stm_mdl_k40, <span class="at">method =</span> <span class="st">"frex"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create top terms</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>top_terms <span class="ot">&lt;-</span> td_beta <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(beta) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">7</span>, beta) <span class="sc">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>beta) <span class="sc">%&gt;%</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(topic, term) <span class="sc">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">terms =</span> <span class="fu">list</span>(term)) <span class="sc">%&gt;%</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">terms =</span> <span class="fu">map</span>(terms, paste, <span class="at">collapse =</span> <span class="st">", "</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(terms))</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Output</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>top_terms</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 40 × 2
   topic terms                                                                  
   &lt;int&gt; &lt;chr&gt;                                                                  
 1     1 care, nursing, healthcare, nurses, professionals, patients, patient    
 2     2 students, school, academic, education, educational, schools, literacy  
 3     3 的, 研究, 和, rs, 在, 了, 性                                           
 4     4 elderly, #x0d, can, review, literature, google, keywords               
 5     5 article, journal, decision, describes, aids, pressure, section         
 6     6 prevalence, countries, among, studies, rates, population, higher       
 7     7 depression, anxiety, psychological, stress, life, symptoms, cancer     
 8     8 people, services, community, service, barriers, participation, support 
 9     9 factors, relationship, positive, studies, associated, behavior, negati…
10    10 b, et, al, r, s, c, d                                                  
# ℹ 30 more rows</code></pre>
</div>
</div>
</section>
<section id="erstellung-der-prävalenz-tabelle-für-die-themen" class="level4">
<h4 class="anchored" data-anchor-id="erstellung-der-prävalenz-tabelle-für-die-themen">1.3 Erstellung der Prävalenz-Tabelle für die Themen</h4>
<ol type="1">
<li>Erstellen Sie einen neuen Datensatz <code>td_gamma</code>
<ul>
<li>basierend auf dem Datensatz <code>stm_mdl_k40</code>,</li>
<li>Verwenden Sie <code>tidy()</code>, um die Gamma-Matrix zu erstellen.</li>
<li>Verwenden Sie <code>document_names = names(quanteda_stm$documents)</code> um die Dokumentennamen zu speichern</li>
</ul></li>
<li>Erstellen Sie einen neuen Datensatz <code>prevalence</code>
<ul>
<li>basierend auf dem Datensatz <code>td_gamma</code>,
<ol type="1">
<li>Gruppieren Sie die Themen nach <code>topic</code> mit <code>group_by(topic)</code>.</li>
<li>Berechnen Sie den Durchschnitt der <code>gamma</code>-Werte pro Thema mit <code>summarise(gamma = mean(gamma))</code>.</li>
<li>Sortieren Sie die Themen (absteigend) nach <code>gamma</code> mit <code>arrange(desc(gamma))</code>.</li>
<li>Verknüpfen Sie die Top-Begriffe mit den Themen mit <code>left_join(top_terms, by = "topic")</code>.</li>
<li>Überarbeiten Sie die Variable <code>topic</code> mit dem <code>mutate</code>-Befehl:
<ol type="1">
<li>Erstellen Sie eine neue Variable <code>topic</code> mit <code>paste0("Topic ",sprintf("%02d", topic))</code>.</li>
<li>Ordnen Sie die Themen nach <code>gamma</code> mit <code>reorder(topic, gamma)</code>.</li>
</ol></li>
</ol></li>
</ul></li>
<li>Erstellung Sie eine Tabelle als Output
<ul>
<li>basierend auf dem Datenastz <code>prevalence</code>,
<ol type="1">
<li>Verwenden Sie <code>gt()</code> um eine Tabelle zu erstellen.</li>
<li>Formatieren Sie die Spalte <code>gamma</code> mit <code>fmt_number(columns = vars(gamma), decimals = 2)</code> um nur zwei Nachkommastellen anzuzeigen.</li>
<li>Verwenden Sie <code>gtExtras::gt_theme_538()</code> um das Design der Tabelle anzupassen.</li>
</ol></li>
</ul></li>
<li>✍️ Auf Basis des Outputs von <code>prevalence</code> Notieren Sie, welche Themen Sie als problematisch sehen und warum.</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create tidy gamma matrix</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>td_gamma <span class="ot">&lt;-</span> <span class="fu">tidy</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  stm_mdl_k40, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">matrix =</span> <span class="st">"gamma"</span>, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">document_names =</span> <span class="fu">names</span>(quanteda_stm<span class="sc">$</span>documents)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create prevalence</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>prevalence <span class="ot">&lt;-</span> td_gamma <span class="sc">%&gt;%</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">gamma =</span> <span class="fu">mean</span>(gamma)) <span class="sc">%&gt;%</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gamma)) <span class="sc">%&gt;%</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(top_terms, <span class="at">by =</span> <span class="st">"topic"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">topic =</span> <span class="fu">paste0</span>(<span class="st">"Topic "</span>,<span class="fu">sprintf</span>(<span class="st">"%02d"</span>, topic)),</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">topic =</span> <span class="fu">reorder</span>(topic, gamma))</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Output</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>prevalence <span class="sc">%&gt;%</span> </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">vars</span>(gamma), </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  gtExtras<span class="sc">::</span><span class="fu">gt_theme_538</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="iuudodlffg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#iuudodlffg table {
  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#iuudodlffg thead, #iuudodlffg tbody, #iuudodlffg tfoot, #iuudodlffg tr, #iuudodlffg td, #iuudodlffg th {
  border-style: none;
}

#iuudodlffg p {
  margin: 0;
  padding: 0;
}

#iuudodlffg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: 400;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: none;
  border-top-width: 3px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#iuudodlffg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#iuudodlffg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#iuudodlffg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#iuudodlffg .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iuudodlffg .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iuudodlffg .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iuudodlffg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#iuudodlffg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#iuudodlffg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#iuudodlffg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#iuudodlffg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#iuudodlffg .gt_spanner_row {
  border-bottom-style: hidden;
}

#iuudodlffg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#iuudodlffg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #FFFFFF;
  vertical-align: middle;
}

#iuudodlffg .gt_from_md > :first-child {
  margin-top: 0;
}

#iuudodlffg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#iuudodlffg .gt_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#iuudodlffg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 0px;
  border-right-color: #FFFFFF;
  padding-left: 5px;
  padding-right: 5px;
}

#iuudodlffg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#iuudodlffg .gt_row_group_first td {
  border-top-width: 2px;
}

#iuudodlffg .gt_row_group_first th {
  border-top-width: 2px;
}

#iuudodlffg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuudodlffg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#iuudodlffg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#iuudodlffg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iuudodlffg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuudodlffg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#iuudodlffg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#iuudodlffg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#iuudodlffg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iuudodlffg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iuudodlffg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuudodlffg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iuudodlffg .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuudodlffg .gt_left {
  text-align: left;
}

#iuudodlffg .gt_center {
  text-align: center;
}

#iuudodlffg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#iuudodlffg .gt_font_normal {
  font-weight: normal;
}

#iuudodlffg .gt_font_bold {
  font-weight: bold;
}

#iuudodlffg .gt_font_italic {
  font-style: italic;
}

#iuudodlffg .gt_super {
  font-size: 65%;
}

#iuudodlffg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#iuudodlffg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#iuudodlffg .gt_indent_1 {
  text-indent: 5px;
}

#iuudodlffg .gt_indent_2 {
  text-indent: 10px;
}

#iuudodlffg .gt_indent_3 {
  text-indent: 15px;
}

#iuudodlffg .gt_indent_4 {
  text-indent: 20px;
}

#iuudodlffg .gt_indent_5 {
  text-indent: 25px;
}

tbody tr:last-child {
  border-bottom: 2px solid #ffffff00;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="topic" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">topic</th>
<th id="gamma" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">gamma</th>
<th id="terms" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">terms</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 16</td>
<td class="gt_row gt_right" headers="gamma">0.09</td>
<td class="gt_row gt_left" headers="terms">research, review, literature, future, findings, systematic, studies</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 19</td>
<td class="gt_row gt_right" headers="gamma">0.07</td>
<td class="gt_row gt_left" headers="terms">studies, included, review, quality, evidence, data, systematic</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 38</td>
<td class="gt_row gt_right" headers="gamma">0.05</td>
<td class="gt_row gt_left" headers="terms">articles, search, science, databases, review, systematic, criteria</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 39</td>
<td class="gt_row gt_right" headers="gamma">0.04</td>
<td class="gt_row gt_left" headers="terms">study, research, literature, analysis, used, results, method</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 09</td>
<td class="gt_row gt_right" headers="gamma">0.04</td>
<td class="gt_row gt_left" headers="terms">factors, relationship, positive, studies, associated, behavior, negative</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 25</td>
<td class="gt_row gt_right" headers="gamma">0.04</td>
<td class="gt_row gt_left" headers="terms">learning, education, students, teaching, teachers, skills, higher</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 29</td>
<td class="gt_row gt_right" headers="gamma">0.04</td>
<td class="gt_row gt_left" headers="terms">cultural, change, policy, political, human, identity, different</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 35</td>
<td class="gt_row gt_right" headers="gamma">0.04</td>
<td class="gt_row gt_left" headers="terms">interventions, intervention, effectiveness, n, outcomes, effective, studies</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 20</td>
<td class="gt_row gt_right" headers="gamma">0.03</td>
<td class="gt_row gt_left" headers="terms">management, tourism, development, public, paper, economic, marketing</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 14</td>
<td class="gt_row gt_right" headers="gamma">0.03</td>
<td class="gt_row gt_left" headers="terms">digital, use, information, technology, online, communication, technologies</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 34</td>
<td class="gt_row gt_right" headers="gamma">0.03</td>
<td class="gt_row gt_left" headers="terms">effect, effects, meta-analysis, p, ptsd, ci, significant</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 30</td>
<td class="gt_row gt_right" headers="gamma">0.03</td>
<td class="gt_row gt_left" headers="terms">disorders, disorder, suicide, eating, risk, suicidal, psychiatric</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 33</td>
<td class="gt_row gt_right" headers="gamma">0.03</td>
<td class="gt_row gt_left" headers="terms">physical, cognitive, activity, studies, body, exercise, weight</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 28</td>
<td class="gt_row gt_right" headers="gamma">0.03</td>
<td class="gt_row gt_left" headers="terms">sleep, ci, meta-analysis, risk, studies, pooled, p</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 21</td>
<td class="gt_row gt_right" headers="gamma">0.03</td>
<td class="gt_row gt_left" headers="terms">treatment, therapy, trials, patients, music, pain, controlled</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 18</td>
<td class="gt_row gt_right" headers="gamma">0.03</td>
<td class="gt_row gt_left" headers="terms">measures, assessment, used, tools, measurement, instruments, measure</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 32</td>
<td class="gt_row gt_right" headers="gamma">0.03</td>
<td class="gt_row gt_left" headers="terms">health, mental, stigma, problems, wellbeing, outcomes, review</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 06</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">prevalence, countries, among, studies, rates, population, higher</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 08</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">people, services, community, service, barriers, participation, support</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 15</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">reviews, outcomes, reporting, systematic, outcome, items, preferred</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 13</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">family, support, resilience, experiences, caregivers, parents, parental</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 07</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">depression, anxiety, psychological, stress, life, symptoms, cancer</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 17</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">children, adolescents, language, development, early, child, skills</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 01</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">care, nursing, healthcare, nurses, professionals, patients, patient</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 23</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">social, media, older, adults, use, loneliness, people</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 37</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">training, programs, work, program, professional, skills, workplace</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 36</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">literature, history, american, black, book, literary, historical</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 24</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">violence, women, abuse, sexual, ipv, child, trauma</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 26</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">covid-19, pandemic, vaccine, vaccination, health, acceptance, disease</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 27</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">use, gender, sexual, substance, alcohol, sex, men</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 02</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">students, school, academic, education, educational, schools, literacy</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 31</td>
<td class="gt_row gt_right" headers="gamma">0.02</td>
<td class="gt_row gt_left" headers="terms">environment, environmental, urban, travel, physical, transport, safety</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 40</td>
<td class="gt_row gt_right" headers="gamma">0.01</td>
<td class="gt_row gt_left" headers="terms">authors, interest, information, group, studies, case, term</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 12</td>
<td class="gt_row gt_right" headers="gamma">0.01</td>
<td class="gt_row gt_left" headers="terms">crime, review, police, et, al, studies, may</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 11</td>
<td class="gt_row gt_right" headers="gamma">0.01</td>
<td class="gt_row gt_left" headers="terms">university, author, papers, college, search, review, share</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 04</td>
<td class="gt_row gt_right" headers="gamma">0.01</td>
<td class="gt_row gt_left" headers="terms">elderly, #x0d, can, review, literature, google, keywords</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 10</td>
<td class="gt_row gt_right" headers="gamma">0.01</td>
<td class="gt_row gt_left" headers="terms">b, et, al, r, s, c, d</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 05</td>
<td class="gt_row gt_right" headers="gamma">0.00</td>
<td class="gt_row gt_left" headers="terms">article, journal, decision, describes, aids, pressure, section</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="topic">Topic 22</td>
<td class="gt_row gt_right" headers="gamma">0.00</td>
<td class="gt_row gt_left" headers="terms">de, la, y, en, los, el, se</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="topic">Topic 03</td>
<td class="gt_row gt_right" headers="gamma">0.00</td>
<td class="gt_row gt_left" headers="terms">的, 研究, 和, rs, 在, 了, 性</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="exercise-2-einfluss-der-metadaten" class="level3">
<h3 class="anchored" data-anchor-id="exercise-2-einfluss-der-metadaten">📋 Exercise 2: Einfluss der Metadaten</h3>
<section id="schätzung-der-meta-effekte" class="level4">
<h4 class="anchored" data-anchor-id="schätzung-der-meta-effekte">2.1. Schätzung der Meta-Effekte</h4>
<ol type="1">
<li>Erstellen Sie einen neuen Datensatz <code>effects</code>:
<ul>
<li>Verwenden Sie die Funktion <code>estimateEffect()</code>, um die Effekte zu schätzen.</li>
<li>Verwenden Sie für das <code>formular</code>-Argument <code>1:40 ~ publication_year_fct + field</code>, um die Effekte der Veröffentlichungsjahre und Fachbereiche zu schätzen.</li>
<li>Verwenden Sie <code>stm_mdl_40</code> als das zu analysierende Modell.</li>
<li>Verwenden Sie <code>meta = quanteda_stm$meta</code>, um die Metadaten für die Schätzung zu verwenden.</li>
</ul></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>effects <span class="ot">&lt;-</span> <span class="fu">estimateEffect</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span><span class="sc">:</span><span class="dv">40</span> <span class="sc">~</span> publication_year_fct <span class="sc">+</span> field,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    stm_mdl_k40,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">meta =</span> quanteda_stm<span class="sc">$</span>meta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="untersuchung-der-effekte" class="level4">
<h4 class="anchored" data-anchor-id="untersuchung-der-effekte">2.2. Untersuchung der Effekte</h4>
<ol type="1">
<li><p>Erstellen Sie einen neuen Datensatz <code>effects_tidy</code> eine bereinigte Tabelle der Effekte:</p>
<ul>
<li>Basierend auf dem Datensatz <code>effects</code></li>
</ul>
<ol type="1">
<li>Verwenden Sie die <code>tidy()</code> Funktion, um die Effekte in ein aufbereitetes Format zu bringen.</li>
<li>Filtern Sie die Daten:
<ol type="1">
<li>Entfernen Sie Zeilen, bei denen term den Wert <code>(Intercept)</code> hat.</li>
<li>Behalten Sie nur die Zeilen, bei denen <code>term == "fieldSocial Sciences"</code> ist.</li>
</ol></li>
<li>Entfernen Sie die Spalte term mit <code>select(-term)</code></li>
</ol></li>
<li><p>Erstellen Sie ein Tabelle zur Überprüfung der Effekte</p>
<ul>
<li>Basierend auf dem Datensatz <code>effects_tidy</code>:</li>
</ul>
<ol type="1">
<li>Verwenden Sie die Funktion <code>gt()</code>, um eine Tabelle zu erstellen.</li>
<li>Formatieren Sie alle numerischen Variablen mit <code>fmt_number(columns = -c(topic), decimals = 3)</code>, um lediglich drei Dezimalstellen darzustellen.</li>
<li>Verwenden Sie <code>data_color(columns = estimate, method = "numeric", palette = "viridis")</code>, um die Schätzwerte farblich zu kennzeichnen.</li>
<li>Wenden Sie das Design <code>gtExtras::gt_theme_538()</code> an.</li>
</ol></li>
<li><p>✍️ Notieren Sie, welches Thema am stärksten im Forschungsfeld “Social Science” vertreten ist.</p></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter effect data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>effects_tidy <span class="ot">&lt;-</span> effects <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    term <span class="sc">==</span> <span class="st">"fieldSocial Sciences"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>term)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore effects (table outpu)</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>effects_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fmt_number</span>(</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">columns =</span> <span class="sc">-</span><span class="fu">c</span>(topic),</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">decimals =</span> <span class="dv">3</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data_color</span>(</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">columns =</span> estimate,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"numeric"</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"viridis"</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  gtExtras<span class="sc">::</span><span class="fu">gt_theme_538</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="pfjlbpvhyz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#pfjlbpvhyz table {
  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pfjlbpvhyz thead, #pfjlbpvhyz tbody, #pfjlbpvhyz tfoot, #pfjlbpvhyz tr, #pfjlbpvhyz td, #pfjlbpvhyz th {
  border-style: none;
}

#pfjlbpvhyz p {
  margin: 0;
  padding: 0;
}

#pfjlbpvhyz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: 400;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: none;
  border-top-width: 3px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pfjlbpvhyz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pfjlbpvhyz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pfjlbpvhyz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pfjlbpvhyz .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pfjlbpvhyz .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pfjlbpvhyz .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pfjlbpvhyz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pfjlbpvhyz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pfjlbpvhyz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pfjlbpvhyz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pfjlbpvhyz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pfjlbpvhyz .gt_spanner_row {
  border-bottom-style: hidden;
}

#pfjlbpvhyz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pfjlbpvhyz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #FFFFFF;
  vertical-align: middle;
}

#pfjlbpvhyz .gt_from_md > :first-child {
  margin-top: 0;
}

#pfjlbpvhyz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pfjlbpvhyz .gt_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pfjlbpvhyz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 0px;
  border-right-color: #FFFFFF;
  padding-left: 5px;
  padding-right: 5px;
}

#pfjlbpvhyz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pfjlbpvhyz .gt_row_group_first td {
  border-top-width: 2px;
}

#pfjlbpvhyz .gt_row_group_first th {
  border-top-width: 2px;
}

#pfjlbpvhyz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pfjlbpvhyz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pfjlbpvhyz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pfjlbpvhyz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pfjlbpvhyz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pfjlbpvhyz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pfjlbpvhyz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pfjlbpvhyz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pfjlbpvhyz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pfjlbpvhyz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pfjlbpvhyz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pfjlbpvhyz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pfjlbpvhyz .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pfjlbpvhyz .gt_left {
  text-align: left;
}

#pfjlbpvhyz .gt_center {
  text-align: center;
}

#pfjlbpvhyz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pfjlbpvhyz .gt_font_normal {
  font-weight: normal;
}

#pfjlbpvhyz .gt_font_bold {
  font-weight: bold;
}

#pfjlbpvhyz .gt_font_italic {
  font-style: italic;
}

#pfjlbpvhyz .gt_super {
  font-size: 65%;
}

#pfjlbpvhyz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pfjlbpvhyz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pfjlbpvhyz .gt_indent_1 {
  text-indent: 5px;
}

#pfjlbpvhyz .gt_indent_2 {
  text-indent: 10px;
}

#pfjlbpvhyz .gt_indent_3 {
  text-indent: 15px;
}

#pfjlbpvhyz .gt_indent_4 {
  text-indent: 20px;
}

#pfjlbpvhyz .gt_indent_5 {
  text-indent: 25px;
}

tbody tr:last-child {
  border-bottom: 2px solid #ffffff00;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="topic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">topic</th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">estimate</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">std.error</th>
<th id="statistic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">statistic</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">p.value</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="topic">1</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #2A778E; color: #FFFFFF">−0.008</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−8.425</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">2</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #20A486; color: #FFFFFF">0.011</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">14.607</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">3</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #23898E; color: #FFFFFF">0.000</td>
<td class="gt_row gt_right" headers="std.error">0.000</td>
<td class="gt_row gt_right" headers="statistic">−1.528</td>
<td class="gt_row gt_right" headers="p.value">0.126</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">4</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #1F978B; color: #FFFFFF">0.005</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">6.421</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">5</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #20928C; color: #FFFFFF">0.003</td>
<td class="gt_row gt_right" headers="std.error">0.000</td>
<td class="gt_row gt_right" headers="statistic">13.002</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">6</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #1F978B; color: #FFFFFF">0.005</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">6.302</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">7</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #38598C; color: #FFFFFF">−0.020</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−27.268</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">8</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #21A685; color: #FFFFFF">0.012</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">15.394</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">9</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #31668E; color: #FFFFFF">−0.015</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−16.304</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">10</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #23898E; color: #FFFFFF">0.000</td>
<td class="gt_row gt_right" headers="std.error">0.000</td>
<td class="gt_row gt_right" headers="statistic">−1.062</td>
<td class="gt_row gt_right" headers="p.value">0.288</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">11</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #1F998A; color: #FFFFFF">0.006</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">9.255</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">12</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #1F9E89; color: #FFFFFF">0.008</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">10.585</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">13</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #2C738E; color: #FFFFFF">−0.009</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−10.631</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">14</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #3EBC73; color: #000000">0.021</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">19.583</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">15</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #228D8D; color: #FFFFFF">0.001</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">1.848</td>
<td class="gt_row gt_right" headers="p.value">0.065</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">16</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #92D741; color: #000000">0.036</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">28.312</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">17</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #2D718E; color: #FFFFFF">−0.011</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−13.594</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">18</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #2E6F8E; color: #FFFFFF">−0.011</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−13.544</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">19</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #3F4889; color: #FFFFFF">−0.026</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−26.514</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">20</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #FDE725; color: #000000">0.052</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">41.114</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">21</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #48186A; color: #FFFFFF">−0.041</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−35.883</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">22</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #23888E; color: #FFFFFF">−0.001</td>
<td class="gt_row gt_right" headers="std.error">0.000</td>
<td class="gt_row gt_right" headers="statistic">−2.142</td>
<td class="gt_row gt_right" headers="p.value">0.032</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">23</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #23A983; color: #FFFFFF">0.013</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">18.664</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">24</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #218F8D; color: #FFFFFF">0.002</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">1.766</td>
<td class="gt_row gt_right" headers="p.value">0.077</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">25</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #90D743; color: #000000">0.036</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">25.463</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">26</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #1E9D89; color: #FFFFFF">0.008</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">6.707</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">27</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #2A788E; color: #FFFFFF">−0.008</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−8.447</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">28</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #414287; color: #FFFFFF">−0.028</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−21.311</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">29</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #A1DA38; color: #000000">0.039</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">39.942</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">30</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #440154; color: #FFFFFF">−0.048</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−41.114</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">31</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #1E9B8A; color: #FFFFFF">0.007</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">7.647</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">32</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #2F6C8E; color: #FFFFFF">−0.013</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−17.915</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">33</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #46317E; color: #FFFFFF">−0.034</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−31.266</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">34</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #482173; color: #FFFFFF">−0.039</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−32.195</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">35</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #3E4A89; color: #FFFFFF">−0.025</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−25.614</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">36</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #42BE71; color: #000000">0.022</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">19.319</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">37</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #21A685; color: #FFFFFF">0.012</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">14.407</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">38</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #26818E; color: #FFFFFF">−0.004</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">−5.478</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="topic">39</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #B7DE2A; color: #000000">0.042</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">41.523</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="topic">40</td>
<td class="gt_row gt_right" headers="estimate" style="background-color: #228D8D; color: #FFFFFF">0.001</td>
<td class="gt_row gt_right" headers="std.error">0.000</td>
<td class="gt_row gt_right" headers="statistic">2.500</td>
<td class="gt_row gt_right" headers="p.value">0.012</td>
</tr>
</tbody>
</table>

</div>
</div>
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### Notes:</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="exercise-3-einzelthema-im-fokus" class="level3">
<h3 class="anchored" data-anchor-id="exercise-3-einzelthema-im-fokus">📋 Exercise 3: Einzelthema im Fokus</h3>
<section id="benennung-des-themas-k-20" class="level4">
<h4 class="anchored" data-anchor-id="benennung-des-themas-k-20">3.1. Benennung des Themas k = 20</h4>
<ol type="1">
<li>Benennen Sie das Thema <code>k = 20</code> aus dem Modell <code>stm_mdl_40</code>:
<ul>
<li>Verwenden Sie die Funktion <code>labelTopics()</code>.</li>
<li>Geben Sie das Thema 20 als Parameter mit <code>topic = 20</code> an.</li>
</ul></li>
<li>✍️ Notieren Sie die Themennamen. Begründen Sie kurz Ihre Entscheidung.</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create topic label</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>stm_mdl_k40 <span class="sc">%&gt;%</span> <span class="fu">labelTopics</span>(<span class="at">topic =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Topic 20 Top Words:
     Highest Prob: management, tourism, development, public, paper, economic, marketing 
     FREX: tourism, marketing, consumer, halal, sustainable, disaster, economy 
     Lift: hotel, mega-events, tourism, post-disaster, smes, tourist, b2b 
     Score: tourism, marketing, halal, business, governance, sustainable, disaster </code></pre>
</div>
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Themenname:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="zusammenführung-mit-openalex-daten" class="level4">
<h4 class="anchored" data-anchor-id="zusammenführung-mit-openalex-daten">3.2. Zusammenführung mit OpenAlex-Daten</h4>
<ol type="1">
<li>Erstellen Sie einen neuen Datensatz <code>gamma_export</code>
<ul>
<li>basierend auf dem Datensatz <code>stm_mdl_k40</code>:
<ol type="1">
<li>Verwenden Sie <code>tidy()</code> um die Gamma-Matrix zu erstellen. Geben Sie <code>matrix = "gamma"</code> und <code>document_names = names(quanteda_stm$documents)</code> als Parameter an.</li>
<li>Gruppieren Sie die Dokumente nach <code>document</code> mit <code>group_by(document)</code>.</li>
<li>Wählen Sie die Dokumente mit dem höchsten <code>gamma</code>-Wert mit <code>slice_max(gamma)</code>.</li>
<li>Lösen Sie die Gruppierung mit <code>dplyr::ungroup()</code>.</li>
<li>Verknüpfen Sie die Daten mit <code>review_subsample</code> mittels <code>left_join(review_subsample, by = c("document" = "id"))</code>.</li>
</ol></li>
<li>Benennen Sie die Spalte <code>document</code> in <code>id</code> um mit <code>dplyr::rename(id = document)</code></li>
<li>Erstellen Sie eine neue Variable <code>stm_topic</code> mit Hilfe des <code>mutate()</code>-Befehls. Verwenden Sie <code>as.factor(paste("Topic", sprintf("%02d", topic)))</code> um die Themen zu benennen und als Faktor zu speichern.</li>
</ul></li>
<li>Überprüfen Sie Transformation mit Hilfe der <code>glimpse()</code>-Funktion, um sicherzustellen, dass die Daten korrekt erstellt wurden.</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create gamma export</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>gamma_export <span class="ot">&lt;-</span> stm_mdl_k40 <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">tidy</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">matrix =</span> <span class="st">"gamma"</span>, </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">document_names =</span> <span class="fu">names</span>(quanteda_stm<span class="sc">$</span>documents)) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(document) <span class="sc">%&gt;%</span> </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice_max</span>(gamma) <span class="sc">%&gt;%</span> </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(review_subsample, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"document"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">id =</span> document) <span class="sc">%&gt;%</span> </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">stm_topic =</span> <span class="fu">as.factor</span>(<span class="fu">paste</span>(<span class="st">"Topic"</span>, <span class="fu">sprintf</span>(<span class="st">"%02d"</span>, topic)))</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Check</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(gamma_export)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 36,650
Columns: 49
$ id                          &lt;chr&gt; "https://openalex.org/W1000529773", "https…
$ topic                       &lt;int&gt; 25, 14, 14, 14, 7, 16, 34, 10, 30, 19, 9, …
$ gamma                       &lt;dbl&gt; 0.5042240, 0.2308276, 0.4425161, 0.3935272…
$ title                       &lt;chr&gt; "A critical evaluation of the teaching of …
$ display_name                &lt;chr&gt; "A critical evaluation of the teaching of …
$ author                      &lt;list&gt; [&lt;data.frame[1 x 12]&gt;], [&lt;data.frame[2 x …
$ ab                          &lt;chr&gt; "A Critical Evaluation of the Teaching of …
$ publication_date            &lt;chr&gt; "2014-01-16", "2015-05-26", "2014-05-22", …
$ relevance_score             &lt;dbl&gt; 4.012791, 27.896568, 32.074608, 23.670475,…
$ so                          &lt;chr&gt; NA, "Proceedings of the annual conference …
$ so_id                       &lt;chr&gt; NA, "https://openalex.org/S4306523984", "h…
$ host_organization           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "Taylor &amp; …
$ issn_l                      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "1381-1118…
$ url                         &lt;chr&gt; "https://uwispace.sta.uwi.edu/dspace/bitst…
$ pdf_url                     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "h…
$ license                     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "c…
$ version                     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "p…
$ first_page                  &lt;chr&gt; NA, "76", NA, NA, NA, NA, NA, NA, "1", "11…
$ last_page                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "21", "122…
$ volume                      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "20", "78"…
$ issue                       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "1", NA, "…
$ is_oa                       &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ is_oa_anywhere              &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ oa_status                   &lt;chr&gt; "closed", "closed", "closed", "closed", "c…
$ oa_url                      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "https://e…
$ any_repository_has_fulltext &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ language                    &lt;chr&gt; "en", "en", "en", "en", "en", "en", "en", …
$ grants                      &lt;list&gt; NA, NA, NA, NA, NA, NA, NA, NA, &lt;"https:/…
$ cited_by_count              &lt;int&gt; 0, 1, 1, 1, 1, 0, 2, 0, 226, 159, 122, 31,…
$ counts_by_year              &lt;list&gt; NA, [&lt;data.frame[1 x 2]&gt;], [&lt;data.frame[1…
$ publication_year            &lt;int&gt; 2014, 2015, 2014, 2013, 2013, 2015, 2015, …
$ cited_by_api_url            &lt;chr&gt; "https://api.openalex.org/works?filter=cit…
$ ids                         &lt;list&gt; &lt;"https://openalex.org/W1000529773", "100…
$ doi                         &lt;chr&gt; NA, "https://doi.org/10.5555/2814058.28141…
$ type                        &lt;chr&gt; "article", "article", "article", "article"…
$ referenced_works            &lt;list&gt; NA, &lt;"https://openalex.org/W1526029332", …
$ related_works               &lt;list&gt; &lt;"https://openalex.org/W958254955", "http…
$ is_paratext                 &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ is_retracted                &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ concepts                    &lt;list&gt; [&lt;data.frame[7 x 5]&gt;], [&lt;data.frame[16 x …
$ topics_i                    &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ topics_score                &lt;dbl&gt; 0.9566, 0.9812, 0.9894, 0.9999, 0.9752, 0.…
$ topics_name                 &lt;chr&gt; "field", "field", "field", "field", "field…
$ topics_id                   &lt;chr&gt; "https://openalex.org/fields/32", "https:/…
$ topics_display_name         &lt;chr&gt; "Psychology", "Social Sciences", "Psycholo…
$ publication_year_fct        &lt;fct&gt; 2014, 2015, 2014, 2013, 2013, 2015, 2015, …
$ type_fct                    &lt;fct&gt; article, article, article, article, articl…
$ field                       &lt;fct&gt; Psychology, Social Sciences, Psychology, S…
$ stm_topic                   &lt;fct&gt; Topic 25, Topic 14, Topic 14, Topic 14, To…</code></pre>
</div>
</div>
</section>
<section id="verteilungsparameter-von-thema-20" class="level4">
<h4 class="anchored" data-anchor-id="verteilungsparameter-von-thema-20">3.3 Verteilungsparameter von Thema 20</h4>
<ol type="1">
<li><p>Erstellung eines Outputs zur Überprüfung der Lageparameter</p>
<ul>
<li>Basierend auf dem Datensatz <code>gamma_export</code>:
<ol type="1">
<li>Filtern Sie die Daten nach <code>topic == 20</code>.</li>
<li>Wählen Sie mit Hilfe der select()-Funktion die Variablen <code>gamma</code>, <code>relevance_score</code> und <code>cited_by_count</code> aus.</li>
<li>Verwenden Sie die Funktion <code>datawizard::describe_distribution()</code> um die Verteilungsparameter zu berechnen.</li>
</ol></li>
</ul></li>
<li><p>✍️ Identifizieren und notieren Sie folgende Informationen:</p>
<ul>
<li>Wie viele Abstracts haben Thema 20 als Hauptthema?</li>
<li>Wie hoch ist der durschnittliche Relevance Score?</li>
<li>Wie viele Zitationen haben die Dokumente im Durchschnitt?</li>
<li>Wie viel Zitate hat das hochzitierteste Dokument?</li>
</ul></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create distribution parameters</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>gamma_export <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gamma, relevance_score, cited_by_count) <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  datawizard<span class="sc">::</span><span class="fu">describe_distribution</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Variable        |  Mean |    SD |   IQR |          Range | Skewness | Kurtosis |    n | n_Missing
-------------------------------------------------------------------------------------------------
gamma           |  0.37 |  0.13 |  0.17 |   [0.12, 0.87] |     0.74 |     0.43 | 1477 |         0
relevance_score | 32.55 | 40.35 | 36.74 | [2.01, 402.59] |     3.07 |    14.76 | 1477 |         0
cited_by_count  | 13.54 | 50.51 |  7.00 | [0.00, 948.00] |    10.41 |   143.55 | 1477 |         0</code></pre>
</div>
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### Notes</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Anzahl der Abstrats von Thema 20</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Durchschnittlicher Relevace Score: </span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Durchschnittliche Zitationen:</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Anzahl der Zitationen des am meisten zitierten Dokuments:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="top-dokumente-des-themas" class="level4">
<h4 class="anchored" data-anchor-id="top-dokumente-des-themas">3.4. Top-Dokumente des Themas</h4>
<ol type="1">
<li>Identifizierung der Top-Dokumente
<ul>
<li>Basierend auf dem Datensatz <code>gamma_export</code>:
<ol type="1">
<li>Filtern Sie den Datensatz nach <code>stm_topic == "Topic 20"</code>.</li>
<li>Sortieren Sie die Daten absteigend nach <code>gamma</code> mit <code>arrange(-gamma)</code>.</li>
<li>Wählen Sie die Variablen <code>title</code>, <code>so</code>, <code>gamma</code>, <code>type</code>, und <code>ab</code> mit <code>select()</code> aus.</li>
<li>Wählen Sie die obersten 5 Zeilen mit <code>slice_head(n = 5)</code>.</li>
</ol></li>
</ul></li>
<li>Erstellung eines Outputs zur Überprüfung der Top-Dokumente
<ul>
<li>Basierend auf dem Datensatz <code>top_docs_k20</code>:
<ol type="1">
<li>Verwenden Sie <code>gt()</code> um eine Tabelle zu erstellen.</li>
<li>Formatieren Sie die Spalte <code>gamma</code> mit <code>fmt_number(columns = vars(gamma), decimals = 2)</code> um nur zwei Nachkommastellen anzuzeigen.</li>
<li>Verwenden Sie <code>gtExtras::gt_theme_538()</code> um das Design der Tabelle anzupassen.<br>
</li>
</ol></li>
</ul></li>
<li>✍️ Basierend auf den den Abstracts und den Titeln der Top-Dokumente:
<ul>
<li>Welche Themenbereiche decken die Dokumente ab?</li>
<li>Würden Sie den im Abschnitt 3.1. gewählten Themennamen beibehalten oder abändern?</li>
</ul></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Lösung anzeigen</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify top documents for topic 20</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>top_docs_k20 <span class="ot">&lt;-</span> gamma_export <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(stm_topic <span class="sc">==</span> <span class="st">"Topic 20"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>gamma) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title, so, gamma, type, ab) <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>) </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Creae output</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>top_docs_k20 <span class="sc">%&gt;%</span> </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(gamma), </span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  gtExtras<span class="sc">::</span><span class="fu">gt_theme_538</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tvnytwcxze" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#tvnytwcxze table {
  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tvnytwcxze thead, #tvnytwcxze tbody, #tvnytwcxze tfoot, #tvnytwcxze tr, #tvnytwcxze td, #tvnytwcxze th {
  border-style: none;
}

#tvnytwcxze p {
  margin: 0;
  padding: 0;
}

#tvnytwcxze .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: 400;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: none;
  border-top-width: 3px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tvnytwcxze .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tvnytwcxze .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tvnytwcxze .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tvnytwcxze .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tvnytwcxze .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tvnytwcxze .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tvnytwcxze .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tvnytwcxze .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tvnytwcxze .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tvnytwcxze .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tvnytwcxze .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tvnytwcxze .gt_spanner_row {
  border-bottom-style: hidden;
}

#tvnytwcxze .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tvnytwcxze .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #FFFFFF;
  vertical-align: middle;
}

#tvnytwcxze .gt_from_md > :first-child {
  margin-top: 0;
}

#tvnytwcxze .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tvnytwcxze .gt_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tvnytwcxze .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 0px;
  border-right-color: #FFFFFF;
  padding-left: 5px;
  padding-right: 5px;
}

#tvnytwcxze .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tvnytwcxze .gt_row_group_first td {
  border-top-width: 2px;
}

#tvnytwcxze .gt_row_group_first th {
  border-top-width: 2px;
}

#tvnytwcxze .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tvnytwcxze .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tvnytwcxze .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tvnytwcxze .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tvnytwcxze .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tvnytwcxze .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tvnytwcxze .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tvnytwcxze .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tvnytwcxze .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tvnytwcxze .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tvnytwcxze .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tvnytwcxze .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tvnytwcxze .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tvnytwcxze .gt_left {
  text-align: left;
}

#tvnytwcxze .gt_center {
  text-align: center;
}

#tvnytwcxze .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tvnytwcxze .gt_font_normal {
  font-weight: normal;
}

#tvnytwcxze .gt_font_bold {
  font-weight: bold;
}

#tvnytwcxze .gt_font_italic {
  font-style: italic;
}

#tvnytwcxze .gt_super {
  font-size: 65%;
}

#tvnytwcxze .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tvnytwcxze .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tvnytwcxze .gt_indent_1 {
  text-indent: 5px;
}

#tvnytwcxze .gt_indent_2 {
  text-indent: 10px;
}

#tvnytwcxze .gt_indent_3 {
  text-indent: 15px;
}

#tvnytwcxze .gt_indent_4 {
  text-indent: 20px;
}

#tvnytwcxze .gt_indent_5 {
  text-indent: 25px;
}

tbody tr:last-child {
  border-bottom: 2px solid #ffffff00;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="title" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">title</th>
<th id="so" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">so</th>
<th id="gamma" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">gamma</th>
<th id="type" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">type</th>
<th id="ab" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase" scope="col">ab</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="title">Literature Review of Overseas Tourism Destination Brand Research</td>
<td class="gt_row gt_left" headers="so">Journal of Chongqing Technology and Business University</td>
<td class="gt_row gt_right" headers="gamma">0.87</td>
<td class="gt_row gt_left" headers="type">article</td>
<td class="gt_row gt_left" headers="ab">Applying brand theory to the study on tourism destination has been always hot issues for overseas scholars since 1990s.Tourism destination branding management is a significant marketing tool which can bring about effective identification internally,achieving differentiation with external competitors.Systematically reviewing and analyzing recent overseas tourism destination brand literatures,this paper makes conclusion and evaluation of the tourism destination brand construction,branding,brand stakeholders,brand operation,branding performance evaluation to provide reference for domestic tourism destination brand research and management.</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">Natural Disasters in Colombia and Their Impact on the Food Security of the Affected Population. a Quick Review of the Literature.</td>
<td class="gt_row gt_left" headers="so">Social Science Research Network</td>
<td class="gt_row gt_right" headers="gamma">0.85</td>
<td class="gt_row gt_left" headers="type">article</td>
<td class="gt_row gt_left" headers="ab">Natural disasters in Colombia significantly impact multiple domains of the affected population, including food security. Those events can cause food production and distribution interruptions, leading to scarcity and increased prices. Additionally, they can damage infrastructure and limit the communities' ability to access food. Food assistance during disasters is crucial to ensuring food security. The former is crucial for human survival and development, and entities responsible for risk management and food assistance play a fundamental role in protecting populations affected by natural disasters. Entities responsible for risk management in Colombia, such as the National Unit for Disaster Risk Management (UNGRD) and the Departmental and Municipal Risk Management Councils, coordinate efforts to provide food assistance and other basic needs. The Colombia Food Bank also plays an essential role in responding to food emergencies as a first responder. In this article, we investigate some of the leading natural disasters that Colombia has suffered in recent years and how these events have affected different communities. Likewise, we explore how the response has been made from the risk management framework, highlighting food assistance.</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">Government Responsibility as the Main Stakeholder in Tourism Development With Collaboration Approach: Literature Review on Heritage Tourism</td>
<td class="gt_row gt_left" headers="so">NA</td>
<td class="gt_row gt_right" headers="gamma">0.84</td>
<td class="gt_row gt_left" headers="type">article</td>
<td class="gt_row gt_left" headers="ab">currently, the economic growth of some countries is a contribution by the vast development of the tourism sector, and one of the potential destinations is heritage motivation.More than fifty-three of previous study founds five elements that associated with Heritage Tourism Development, which are four elements influencing directly and one element is impact after development as an outcome.The study is focusing on stakeholders responsibility which led by government to do the development of heritage tourism.Barriers of policies and low attention to strategic plants and policies are an influencer to the obstacles because of less attention from the leader.Collaboration approach helped government to control the system in heritage tourism process.</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">Business Strategy in Management Perspective: A Literature Review</td>
<td class="gt_row gt_left" headers="so">Indonesian Journal of Economic &amp; Management Sciences</td>
<td class="gt_row gt_right" headers="gamma">0.83</td>
<td class="gt_row gt_left" headers="type">article</td>
<td class="gt_row gt_left" headers="ab">Business development in the world has entered the era of free markets and broad competition, not only in small areas but also in large areas. Efforts made by a company to win the market are by providing competitive advantages, analyzing competitors, and implementing effective and efficient marketing strategies</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">A Literature Review on Structural Reform of Agricultural Supply Side</td>
<td class="gt_row gt_left" headers="so">NA</td>
<td class="gt_row gt_right" headers="gamma">0.82</td>
<td class="gt_row gt_left" headers="type">article</td>
<td class="gt_row gt_left" headers="ab">The structural reform of the agricultural supply side is the major deployment of the "No. 1 document" on agriculture, not only for the direction of agricultural industry development, but also for the agricultural industry structure optimization adjustment to play a needle "tonic", also engaged in agricultural economic research experts and scholars Correct future and long-term research direction to play a "heading" role.This paper summarizes the policy of "structural reform of agricultural supply side", which is related to the optimization and upgrading of agricultural industry structure, the cultivation of agricultural enterprises, the integration of agriculture, the development strategy of agricultural brand, the innovation of agricultural technology, "Rural land management system reform", "agricultural development policy" and other research results.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>



</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-aria2024" class="csl-entry" role="listitem">
Aria, Massimo, Trang Le, Corrado Cuccurullo, Alessandra Belfiore, and June Choe. 2024. <span>“openalexR: An R-Tool for Collecting Bibliometric Data from OpenAlex.”</span> <em>The R Journal</em> 15 (4): 167–80. <a href="https://doi.org/10.32614/rj-2023-089">https://doi.org/10.32614/rj-2023-089</a>.
</div>
<div id="ref-silge2016" class="csl-entry" role="listitem">
Silge, Julia, and David Robinson. 2016. <span>“Tidytext: Text Mining and Analysis Using Tidy Data Principles in r.”</span> <em>The Journal of Open Source Software</em> 1 (3): 37. <a href="https://doi.org/10.21105/joss.00037">https://doi.org/10.21105/joss.00037</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2024, Christoph Adrian</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/faucommsci/ps_24/edit/main/exercises/ms-exercise-10_solution.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/faucommsci/ps_24/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with ☕ &amp; <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>